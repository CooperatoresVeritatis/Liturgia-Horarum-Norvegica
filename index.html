<!DOCTYPE html>
<html lang="no">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Breviarium Norvegicum</title>
    <style>
        body {
            font-family: sans-serif;
            max-width: 600px;
            margin: 2rem auto;
            padding: 1rem;
            line-height: 1.6;
        }

        h1,
        h2 {
            text-align: center;
        }

        footer {
            margin-top: 2rem;
            text-align: center;
        }

        a.button {
            display: inline-block;
            padding: 0.5em 1em;
            background: #ffd700;
            color: black;
            text-decoration: none;
            border-radius: 5px;
        }
    </style>
</head>

<body>
    <h1>Dagens tideb√∏nn - Laudes</h1>
    <h2 id="liturgical-title">Laster liturgisk dag‚Ä¶</h2>

    <p><strong>√Öpningsvers:</strong><br>
        Herre, l√∏s min tunge, s√• min munn kan forkynne din pris.</p>

    <p><strong>Invitatorium-antifon:</strong><br>
        Kom, la oss tilbe Herren, for han er v√•r Gud.</p>

    <p><strong>Salme 95:</strong><br>
        <a href="https://bibel.no/nettbibelen/les/nb-2024/PSA/PSA.95" target="_blank">Les Salme 95 hos Bibel.no</a>
    </p>

    <p><strong>Hymne:</strong><br>
        Du lys som led oss gjennom natt, vi priser deg ved morgenbl√•tt...</p>

    <p><strong>1. Salme:</strong><br>
        <span id="psalm1"></span>
    </p>

    <p><strong>2. Salme:</strong><br>
        <span id="psalm2"></span>
    </p>

    <p><strong>Bibellesning:</strong><br>
        <span id="reading"></span>
    </p>

    <p><strong>Benedictus:</strong><br>
        Velsignet v√¶re Herren, Israels Gud, for han har sett til sitt folk og l√∏st det ut...</p>

    <p><strong>Sluttb√∏nn:</strong><br>
        Herre, la v√•r b√∏nn stige opp til deg som morgenen stiger frem...</p>

    <p><strong>Avslutning:</strong><br>
        M√• Herren velsigne oss, bevare oss fra alt ondt og f√∏re oss til det evige liv. Amen.</p>


    <footer>
        <p>Denne siden er gratis og √•pen for alle. Vil du st√∏tte prosjektet?</p>
        <a class="button" href="https://coff.ee/luisfranciscohs" target="_blank">‚òï Kj√∏p meg en kaffe</a>
    </footer>
</body>

<script>
    async function getLiturgicalDay() {
        const res = await fetch("https://calapi.inadiutorium.cz/api/v0/en/calendars/general-en/today");
        const data = await res.json();

        const day = data.weekday; // 1 = Monday, 7 = Sunday
        const week = data.season_week;
        const season = data.season; // e.g. "easter", "advent"
        const title = data.celebrations[0].title;

        // Norwegian translation
        const dayNames = ["", "Mandag", "Tirsdag", "Onsdag", "Torsdag", "Fredag", "L√∏rdag", "S√∏ndag"];
        const seasonNames = {
            advent: "Advent",
            christmas: "Jul",
            ordinary: "Ordin√¶r tid",
            lent: "Faste",
            easter: "P√•ske"
        };

        const dayName = dayNames[day];
        const seasonName = seasonNames[season] || season;
        const translatedTitle = `${dayName} i uke ${week} av ${seasonName}`;

        // Update header
        document.getElementById("liturgical-title").textContent = translatedTitle;

        // Load file dynamically
        const fileName = `laudes-${season}-${week}-${dayName.toLowerCase()}.html`;

        fetch(fileName)
            .then(r => r.ok ? r.text() : "<p>üïäÔ∏è Innhold ikke tilgjengelig.</p>")
            .then(html => {
                document.getElementById("laudes-content").innerHTML = html;
            });
    }

    getLiturgicalDay();
</script>


</html>